@using AMI.EduWork._2025.Domain.Models.Project

<MudList T="GetProjectModel" Dense="true">
    @if (Projects != null)
    {
        @foreach (var project in Projects)
        {
            <MudListItem T="GetProjectModel" Value="project">
                <MudText Typo="Typo.subtitle1">@project.Name</MudText>
                <MudText Typo="Typo.body2">@project.Description</MudText>
                @if(project.TypeOfProject == 0)
                {
                    <MudChip Text="black" Color="Color.Dark" Value="@Color.Dark">@GetProjectTypeName(project.TypeOfProject)</MudChip>
                }else if(project.TypeOfProject == 1)
                {
                    <MudChip Text="white" Color="Color.Primary" Value="@Color.Primary">@GetProjectTypeName(project.TypeOfProject)</MudChip>
                }
                else if(project.TypeOfProject == 2)
                {
                    <MudChip Text="black" Color="Color.Info" Value="@Color.Info">@GetProjectTypeName(project.TypeOfProject)</MudChip>
                }
                <MudButton OnClick="() => OnDetailsClicked.InvokeAsync(project)">Detalji</MudButton>
            </MudListItem>
        }
    }
    else
    {
        <MudProgressCircular Indeterminate />
    }
</MudList>

@code {
    [Parameter] public List<GetProjectModel>? Projects { get; set; }

    [Parameter] public EventCallback<GetProjectModel> OnDetailsClicked { get; set; }

    private string GetProjectTypeName(byte type) => type switch
    {
        0 => "Privatni",
        1 => "Poslovni",
        2 => "Edukacijski",
        _ => "Nepoznat"
    };
}
